要在分辨率太小时使内部的两个 div 换行，你可以使用媒体查询来根据屏幕宽度调整布局。以下是修改后的代码，其中包含媒体查询以在较小的分辨率下使内部的两个 div 换行：

```html
<section th:fragment="hero(isHome, cover, title)">
  <div style="display: flex; margin: 20px; flex-wrap: wrap;" class="dark:bg-slate-900 bg-slate-50">
    <!-- 左侧占40% -->
    <div style="width: 50%;">
      <!-- 这里放原来 section 中左侧的内容 -->
      <div
        th:if="${theme.config.layout.header_widget != 'none'} and ${isHome}"
        class="bg-cover bg-center bg-no-repeat flex justify-end"
        style="width:51%;margin-left:200px;"
        th:styleappend="${theme.config.midEnter.left_background_type == 'image' ? 'background-image: url(' + theme.config.midEnter.left_background_image + ');' : 'background: ' + theme.config.midEnter.left_background_image + ';'}"
        th:classappend="${theme.config.midEnter.header_widget_left == 'site_title' ? 'h-96' : ''}"
      >
        <th:block th:switch="${theme.config.midEnter.header_widget_left}">
          <th:block th:case="site_title">
            <div style="margin-right: 50px;" class="flex flex-col items-start justify-center">
              <a
                th:href="@{${theme.config.midEnter.title_url_left}}"
                th:title="${theme.config.midEnter.main_title_left}"
                th:text="${theme.config.midEnter.main_title_left}"
                class="mr-1 text-5xl text-white font-medium "
              >
              </a>
              <span style="width: fit-content;margin-top: 10px;" class="text-xl font-light text-white opacity-50" th:text="${theme.config.midEnter.sec_title_left}"></span>
              <a
                th:href="@{${theme.config.midEnter.title_url_left}}"
                th:title="立即前往"
                th:text="立即前往"
                class="mr-1 text-3xl text-white font-medium bg-blue-900 px-4 py-2 rounded "
                style=" margin-top:180px;background-color: #0D2A5D;width: 100px; padding: 8px 16px; border-radius: 4px;"
              >
              </a>
            </div>
          </th:block>
        </th:block>
      </div>
    </div>
    <!-- 右侧占60% -->
    <div style="width: 50%;">
      <!-- 这里放原来 section 中右侧的内容 -->
      <div
        th:if="${theme.config.layout.header_widget != 'none'} and ${isHome}"
        class="bg-cover bg-center bg-no-repeat flex justify-end"
        style="width: 68%;"
        th:styleappend="${theme.config.midEnter.right_background_type == 'image' ? 'background-image: url(' + theme.config.midEnter.right_background_image + ');' : 'background: ' + theme.config.midEnter.right_background_image + ';'}"
        th:classappend="${theme.config.midEnter.header_widget_right == 'site_title' ? 'h-96' : ''}"
      >
        <th:block th:switch="${theme.config.midEnter.header_widget_right}">
          <th:block th:case="site_title">
            <div style="width:68%;margin-right: 50px;" class=" flex  flex-col items-start justify-center">
              <a
                th:href="@{${theme.config.midEnter.title_url_right}}"
                th:title="${theme.config.midEnter.main_title_right}"
                th:text="${theme.config.midEnter.main_title_right}"
                class="mr-1 text-5xl text-white font-medium "
              >
              </a>
              <span style="width: fit-content;margin-top: 10px;" class="text-2xl font-light text-white opacity-50" th:text="${theme.config.midEnter.sec_title_right}"></span>
              <a
                th:href="@{${theme.config.midEnter.title_url_right}}"
                th:title="立即前往"
                th:text="立即前往"
                class="mr-1 text-3xl text-white font-medium bg-blue-900 px-4 py-2 rounded "
                style="margin-top:180px;background-color: #0D2A5D;width: 100px; padding: 8px 16px; border-radius: 4px;"
              >
              </a>
            </div>
          </th:block>
        </th:block>
      </div>
    </div>
  </div>
  
  <style>
    @media screen and (max-width: 768px) {
      /* Adjust layout for smaller screens */
      .dark\:bg-slate-900, .bg-slate-50 {
        flex-direction: column;
      }
    }
  </style>
</section>